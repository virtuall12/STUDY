# RHEL OS  설치 및 기본 환경 구성

====================================================

<1 주차>

AMD64 및 Intel 64 Systems에서 Red Hat  Enterprise Linux 설치하기

- 부팅 레벨별 install 설치
- IP, HostName,스펙설정
- bonding
- 파티셔닝, LVM, lvm mirroring, Multipath, , NFS
- repo 구성 ( cdrom / yum 서버 )

====================================================

<2 주차>
사용자 설정 그룹, 권한 (종류별 ?) 패스워드 (복잡성 policy ) 파일 권한
기본명령어
계정 관리 인증 관리 ( ssh )
마운트 옵션 파일시스템 ( ext 4 xfs 많이 쓰는 거 위주, 용도 )

====================================================
/////////

<4 주차>

Nginx + MariaDB 설치 및 구동 확인

====================================================

<5 주차>

Mail Service

====================================================

<6 주차>

이전까지 했던 내용 복습

===============================================================

가상머신 스펙

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901.jpg)

================================================================

# 2021/06-28 ~ 2021/07-02 (1주)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901%201.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901%201.jpg)

<서브스크립션 등록>

================================================================

1. 서브스크립션 매니저 실행

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/1.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/1.jpg)

================================================================

 2. Red Hat Enterprise Linux Server 및 Red Hat Virtualization 서브스크립션 풀을 찾아서 해당 풀 ID를 기록

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/2.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/2.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/3.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/3.jpg)

================================================================

3. 이전 단계에서 기록한 풀 ID를 사용해서 시스템에 서브스크립션을 연결

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/4.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/4.jpg)

================================================================

4. 현재 연결된 서브스크립션을 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/5.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/5.jpg)

================================================================

5. 활성화된 모든 리포지터리 목록 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/6.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/6.jpg)

================================================================

6.  yum 업데이트

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/7.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/7.jpg)

================================================================

<2개의 NIC를 하나의 INTERFACE처럼 사용할 수 있도록 Bonding>

## **Bonding 이란?**

**Linux kernel 내장된 기술로 2개 이상의 Network Interface Card를 논리적으로 하나의 interface 로 묶어서 NIC의 물리적 장애에 대응하거나나 처리량을 늘리는 기술이다.**

**bonded 된 NIC 의 동작 방식은 mode의 설정에 달려 있다.**

**bonding kernel module 을 이용하여 bonding 된 NIC는 *channel bonding interface* 라고 불리운다.**

1. Bonding 모듈 로드

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/8.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/8.jpg)

================================================================

 2. 

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/9.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/9.jpg)

================================================================

3. 본딩 인터페이스 생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/10.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/10.jpg)

================================================================

4. 

Slave 인터페이스로 사용할 ens192, ens224 파일 수정

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/11.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/11.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/12.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/12.jpg)

================================================================

5. 네트워크 재시작

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/13.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/13.jpg)

================================================================

6. 모든 인터페이스가 up으로 온 부분과 액티브가 ens192 로 설정되었는지 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/14.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/14.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/15.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/15.jpg)

================================================================

7. Bonding 결과 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/16.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/16.jpg)

================================================================

# GPT, gdisk 를 이용한 디스크 파티셔닝

<먼저 파티션 종류인 MBR과 GPT의 차이점을 알아보자>

**MBR(Master Boot Record)**

기존, 레거시 파티션이라고도 불리며 2TB이상의 하드디스크에서는 OS 부팅 및 최신 하드웨어 지원에 있어 한계가 발생했다. 최대 4개의 Primary Partition 밖에 지원하지 않으며, 32bit를 사용한다. Windows 32bit, 64bit  OS 모두 지원가능하며 BIOS, UEFI 메인보드 펌웨어에 모두 대응하며 사용할 수 있다.

**GPT(GUID Partition Table)**

MBR 파티션 테이블의 제한 때문에 하드웨어 용량의 확장을 위해 발전하였다. 메인보드에서 UEFI 부팅이 가능해야 하고, GPT 파티션이 MBR 파티션에 비해 부팅속도가 빠르다고 알려져 있다. 최대 8ZB이하의 디스크를 사용할 수 있으며, 사용자가 최대 128개의 파티션을 만들 수 있습니다. 부팅 USB로 사용하는 GPT는 WINDOWS 64bit나 windows Vista SP1이상에서 지원이 가능하다.

GUID

전역 고유 식별자( Globally Unique Identifier, GUID )는 응용 소프트웨어에서 사용되는 유사 난수이다. ... GUID는 오라클 데이터베이스등 많은 곳에서 쓰이지만, 가장 눈에 띄는 구현은 아마도 마이크로소프트의 구현일 것이다.

Gdisk 

fdisk보다 빠르고 효율적인 하드디스크 관리 프로그램이다.

하드 디스크를 처음 사용하기 위해서 필요한 파티션 작업과 포맷작업을 하는 프로그램으로는 MS사에서 운영체제와 함께 제공되는 FDISK 프로그램이 가장 많이 알려져 있으나, 이 FDISK의 기능보다 뛰어난 성능을 가지고 있는 프로그램이 GDISK 이다.

GDISK의 주요 기능

1. 명령행 입력으로 Fdisk보다 빠른 속도로 작업할 수 있으며, 파티션을 쉽고 빠르게 작성할 수 있다.

2. Fdisk보다 좀더 효율적으로 사용할 수 있으며, Fdisk에서 발생할 수 있는 약간의 공간손실 문제를 해결해 준다.

3. Gdisk는 파티션을 나누면서 포맷하기 때문에 Fdisk 에서 낭비되는 공간을 줄여줌으로써 10~30% 정도 더 효율적으로 하드디스크를 사용할 수 있다.

 GDisk 주요 옵션
      /cre : 만들기(Create) 파티션을 만들 때 사
      /del : 지우기(Delete) 파티션을 삭제할 때 사용
      /status : 현재 파티션 상태를 확인할 때 사용
      /act : 파티션의 활성화 표시
      /hide : 선택한 파티션을 숨기거나 표시한다.
      /mbr : 마스터 부트 레코드에서 덮어 쓰기로 부트 코드를 다시 작성
                (MBR에 있는 바이러스를 삭제할때 사용된다.)
 
 GDisk 명령어
      /pri : (primary)기본영여그, 흔히 “C” 드라이브
      /ext : (Extand) 확정영역을 지정
      /log : (Local)논리 드라이브
      /for : (Format) 포멧을 나타낸다.
      /q : 빠른포멧      /ntfs : ntfs 형식으로 포멧
      /r : 명령 수행 후에 재시작

      /y : 작업을 수행할지 확인하는 메시지를 삭제 /SURE와 동일한 의미

# <수행과정>

```
$ yum -y install gdisk

$ gdisk /dev/sdb

GPT fdisk (gdisk) version 0.8.10

Partition table scan:
  MBR: MBR only
  BSD: not present
  APM: not present
  GPT: not present

***************************************************************
Found invalid GPT and valid MBR; converting MBR to GPT format
in memory. THIS OPERATION IS POTENTIALLY DESTRUCTIVE! Exit by
typing 'q' if you don't want to convert your MBR partitions
to GPT format!
***************************************************************

Command (? for help): p <= 파티션 유무,정보 확인

Disk /dev/sdb: 33554432 sectors, 16.0 GiB
Logical sector size: 512 bytes
Disk identifier (GUID): 496F980B-9712-489F-95E1-26B0BB54DED7
Partition table holds up to 128 entries
First usable sector is 34, last usable sector is 33554398
Partitions will be aligned on 2048-sector boundaries
Total free space is 2014 sectors (1007.0 KiB)

Command (? for help): n <= 새로운 파티션 선언

Partition number (5-128, default 5): <= 파티셔닝 번호 sdb1,2,3…
First sector (34-52428766, default = 31457280) or {+-}size{KMGTP}: <=처음시작하는 섹터 기본 2048
Last sector (34-2047, default = 2047) or {+-}size{KMGTP}: <= 마지막으로 끝나는 섹터
Current type is 'Linux filesystem' <= 현재 파일시스템 타입
Hex code or GUID (L to show codes, Enter = 8300): 8e00 <=변경할 파일시스템 코드 기본 8e00
Changed type of partition to 'Linux LVM' <= 하드디스크를 LVM 타입으로 생성

Command (? for help): w <= 설정 내용 저장

Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
PARTITIONS!!

Do you want to proceed? (Y/N): Y <= 진행 yes
OK; writing new GUID partition table (GPT) to /dev/sda.
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot.
The operation has completed successfully.

$ partprobe <= 리부팅 없이 사용 중인 파티션 재인식

$ gdisk -l /dev/sdb <= GPT 형식으로 변경된 것 확인

GPT fdisk (gdisk) version 0.8.10

Partition table scan:
  MBR: protective
  BSD: not present
  APM: not present
  GPT: present

Found valid GPT with protective MBR; using GPT.
```

================================================================

# <LVM>

LVM 은 Logical Volume Manager 의 약자로, 저장장치들을 좀더 효율적이고 유연하게 관리할 수 있는 커널의 부분과 프로그램을 말한다.

LVM 을 이해하려면 먼저 Software RAID (Redundant Array of Inexpensive Drives)를 언급해야 하는데, 이 둘은 비슷하면서도 큰 차이가 있다. 비슷한 점은 여러 물리적인 디스크들을 하나의 논리적인 디스크처럼 다룰 수 있게 함으로서 조합방법에 따라 고용량, 고속, 데이터의 무결성을 실현하는 점이다. 하지만 분명하게 다른 점이 있는데. lvm은 raid보다 관리 및 확장이 비교적 쉬운 반면, raid에는 lvm에는 없는 disk mirroring (RAID level 1), Parity Stripe (RAID level 4,5) 등의 방식이 있어서 속도 또는 데이터의 무결성을 보장 받을 수 있다. 그러나 이런 차이점에도 불구하고 lvm가 주목을 받는 이유는 다음과 같다.

- 쉬운 관리
- 서로 다른 많은 디바이스 조합 지원
- 직관적인 저장 장치로의 접근
- 뛰어난 확장성
- 믿을만한 안전성과 효율
- 스냅샷 기능 지원

이와 같은 특징들로 인해 사용자들이 얻는 이득은 많다.

VG(Volume Group)은 LVM의 가장 기본적인 요소입니다. 쉽게 말하자면 가상 디스크라고 할 수 있는데, 하나 이상의 실제 물리적으로 존재하는 블록 디바이스가 모여서 VG를 이루게 된다.

그 물리적인 블록 디바이스를 PV(Physical Volume)라고 하는데, 거의 대부분의 장치를 PV로 쓸 수 있다. 하드디스크 및 그 파티션, 소프트웨어/하드웨어 RAID 장치, 심지어 Loopback 블록 디바이스(파일 시스템상의 파일을 블록 디바이스처럼 쓸 수 있게 해준다) 도 포함한다.

PV와 대비되는 것이 LV(Logical Volume)다. 이것은 가상 파티션이라고도 할 수 있는데, VG를 적당히 나누어 할당한 것이 LV다. 사용자는 LV를 일반 디스크나 파티션처럼 쓰면 된다. 정리하자면, 하나 이상의 PV가 모여 VG를 이루고, VG를 가상적으로 나누어 할당하면 LV가 된다.

1. LVM 버전 확인

    ![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/17.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/17.jpg)

================================================================

2. PV(Physical Volume) 생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/18.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/18.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/19.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/19.jpg)

================================================================

3. VG(Volume Group) 생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/20.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/20.jpg)

위의 명령은 두 개의 스크를 합쳐서 new_vg라는 VG를 만든다는 것이다.

옵션 ‘-s 16m’은 PE(Physical Extent)의 크기를 16MB로 정하는 것인데, 만약 옵션 ‘-s’가 생략되면 기본적으로 PE의 크기는 4MB가 된다. VG가 만들어지면 /dev/VolumeGroupName라는 형식으로 디렉토리가 생기게 된다.  위의 예에서는 /dev/new_vg 가 될 것이다.

================================================================

4. VG(Volume Group) 생성 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/23.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/23.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/21.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/21.jpg)

================================================================

5. VG(Volume Group) 확장

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/24.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/24.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/25.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/25.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/26.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/26.jpg)

================================================================6. VG(Volume Group) 축소

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/27.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/27.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/29.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/29.jpg)

================================================================

7.LV(Logical Volume) 생성

VG에 LV를 만들면 /dev/VolumeGroupName/LogicalVolumeName의 형식으로 블록 디바이스가 만들어집니다. 이것은 일반 블록 디바이스와 다를 바 없는 용도로 쓸 수 있다. LV 를 만드는 명령은 lvcreate인데 일반적인 예는 다음과 같다

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/30.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/30.jpg)

위의 명령은 4GB 크기로 new_vg이라는 VG에 data라는 새로운 LV를 만드는 것입니다. 옵션 ‘-L’은 LV의 크기를 지정하는 것인데, 숫자 뒤의 접미사에 따라 숫자의 단위가 달라지며 k는 KB, m은 MB, g는 GB, t는 TB를 뜻한다. 만약, 접미사가 안 붙어있으면 숫자의 단위는 MB가 된다. ‘-L’ 대신 ‘-l’를 쓸 수도 있는데, ‘-l’ 뒤에는 LE의 갯수를 쓰면 된다.

================================================================

8. LV(Logical Volume) 확장

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/31.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/31.jpg)

위의 명령은 /dev/new_vg/data의 크기를 2GB 만큼 늘린다. 기존의 크기가 4GB 였다면, 옵션 ‘-L 6g’를 줬어도 같은 결과를 보일 것이다. 역시 여기에서도 옵션 ‘-l’를 쓰면 LE 단위로 늘릴 수 있다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/32.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/32.jpg)

================================================================

9. LV(Logical Volume) 축소

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/33.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/33.jpg)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/34.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/34.jpg)

## <LVM 구성 2>

- 보통

디스크를 붙이고 -> 파티션을 생성하고 -> 해당 파티션을 포맷하고(파일시스템을 만들고) -> 마운트

- LVM

디스크를 붙이고 -> 파티션을 LVM타입으로 생성하고 -> 물리볼륨을 만들고 -> 볼륨그룹을 만들고 -> 볼륨그룹에서 논리볼륨을 만들고 -> 포맷 -> 마운트

1. LVM타입으로 파티셔닝된 디스크를 PV로 생성

    ![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/41.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/41.jpg)

 

2.  만들어진 PV들을 모아 VG생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/42.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/42.jpg)

3. PV들로 이루어진 VG으로 LV생성 (10G 10G 마지막은 나머지 용량 할당)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/43.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/43.jpg)

4. LV 생성 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/44.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/44.jpg)

    

LVM Mirroring

미러링은 현재 시스템에서 사용하고 있는 데이터의 복사본을 만들어 원본 데이터가 손상되었을 경우 사본으로 대체하여 시스템의 고가용성을 높이는 것을 말한다. 따라서 사본의 개수가 늘어날 수록 데이터의 신뢰도가 높아지는 장점을 갖고 있으나, 사본의 개수가 늘어 날 수록 디스크의 개수가 늘어나 비용이 증가하는 단점을 갖고 있다.

1. LV용량을 줄여준뒤 공간확보 후 lvconvert -m 명령어로 1개의 미러볼륨을 생성한다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/45.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/45.jpg)

 2.  lvdisplay 명령어를 통해 LV 1번에 미러볼륨이 생성된 것을 볼 수 있다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/46.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/46.jpg)

물리 볼륨 복구 방법 ( 메타 데이터 복구)

================================================================

# 파일 시스템 ( File System )

파일이나 자료를 쉽게 발견 및 접근할 수 있도록 보관 / 조직하는 체제

예를 들면

하드 디스크 - 도서관

파일 시스템 - 도서 검색대

파일 - 책

리눅스의 대표 파일 시스템

ext3, etx4, swap, xfs, iso9660, nfs

CentOS 6.9버전에서 채택한 기본 파일 시스템 → ext4

※ 파일 시스템 종류 ※

ext - 초기 리눅스에서 사용하였던 종류, 현재는 사용하지 않음

ext2 - 현재도 사용하며, 긴 파일시스템 이름을 지원하는 것이 특징

ext3 - 저널링 파일시스템, ext2보다 파일시스템의 복수/보안 기능이 크게 향상

ext4 - 16TB까지만 지원하던 ext3과는 달리 더 큰 용량을 지원하며, 삭제된 파일 복구,

파일 시스템 속도가 훨씬 빨라진 파일시스템

swap - swap공간으로 사용되는 파일 시스템

xfs - 64bit 고성능 저널링 파일 시스템

iso9660 - DVD/CD-ROM을 위한 표준 파일 시스템으로 읽기만 가능

nfs - 원격 서버에서 파일 시스템 마운트 할 때 사용하는 시스템 (Network File System)

### **새로운 파일 시스템을 만드는 명령 mkfs (make filesystem)**

# mkfs [-t fs_type] [option] 장치명

 ex ) mkfs -t ext4 /dev/sdb1

================================================================

# 마운트(Mount)

**'보조기억장치(HDD, FDD, CD-ROM 등)나 파일 시스템이 다른 디스크를**

**/의 하위 디렉터리로 연결하여 사용 가능하게 해주는 명령어** 

PC 에서 USB를 꼽으면 내컴퓨터 폴더에 USB파일이 뜨면서 자동으로 연결이 된다

또는 외장하드를 꼽아도 :E 이런식으로 폴더가 만들어지고

SSD외에 추가로 하드디스크를 넣어도 :D 폴더가 자동으로 생성이된다

이렇게 디스크와 같은 물리적인 장치를 특정 위치 즉 디렉터리에 연결시켜주는 것을 마운트라고 한다

윈도우에서는 이거를 얘네가 자동으로 해준다

저렇게 되는거부터가 자동으로 윈도우가 해줬기 때문에 CD-ROM을 넣자마자! USB를 꼽자마자!폴더가 잡히는 것 이다

요즘은 PnP(Plug and play 플러그 앤 플레이 = 디바이스를 꼽기만 하면 알아서 설정하고 플레이되는 기능 덕분에 사용자가 직접 해줄필요는 없다

결국 다 내부에서 마운트 작업이 이뤄지는 것

하지만 리눅스의 경우 특히 서버 환경의 경우는 PnP 기능이 작동하지 않고 일일이 직접 우리가 연결을 해줘야 한다

관리자가 직접 특정 디렉터리에 붙이는 작업을 수행해줘야 함 --> 이것이 mount 작업!

<**사용법>**

**# mount [option] [device] [directory]**

마운트의 주요 옵션은 3가지 

```
옵션                                    내용

- a            /etc/fstab에 명시된 파일 시스템을 마운트할 때 쓰이는 옵션

-t fs_type    파일 시스템의 유형을 지정하는 옵션으로 지정하지 않으면 /etc/fstab 파일을 참조

-o 항목     마운트할 때 추가적인 설정을 적용할 때 사용하는 옵션으로 다수의 조건을 적용할 때     

            는 콤마(,)로 구분하면 됨
```

-o 주요 항목

```
유형                                    내용

ro                              읽기 전용으로 마운트

rw                  읽기 쓰기 모드로 마운트(기본값으로 설정되어 있음)

remount          해당 파티션을 다시 마운트 파티션 정보를 바꾸었을 떄 사용

looploop  디바이스로 마운트 할 때 사용, CD-ROM 이미지 파일인 iso를 마운트해서 사용할 때 사용

noatime    
파일의 내용을 읽게 되면 access time이 변경되는데 이 옵션을 사용하면 파일이 변경되기 전까지는 Access time이 변경되지 않는다. 따라서 이 옵션을 사용하게 되면 시스템의 작업을 줄여 성능 향상을 가져오고 노트북에서 사용하면 디스크 접근에 따른 배터리 시간을 늘려준다
```

# <수행과정>

파티셔닝된 /dev/sdb1을 mkfs.ext4 /dev/sdb1 으로 포맷 후 

1. 디스크와 마운트 시킬 디렉토리 생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/38.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/38.jpg)

 

2. 볼륨그룹 밑에있는 로지컬그룹을 /lvm1 디렉토리에 마운트

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/39.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/39.jpg)

 

3. df -h 명령어를 사용해 마운트 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/40.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/40.jpg)

================================================================

# NFS(Network File System)

## NFS서버란 무엇인가?

NFS는 컴퓨터 사용자가 원격지 컴퓨터에 있는 파일을 마치 자신의 컴퓨터에 있는 것처럼 검색하고, 마음대로 저장하거나 수정하도록 해주는 클라이언트/서버형 응용프로그램이다. 사용자 시스템에는 NFS 클라이언트가 있어야하며 원격지 컴퓨터에는 NFS 서버가 설치되어 있어야 한다.

현재야 디스크 용량이 기하급수적으로 커지면서 공간 부족현상이 없지만, 몇십년전만 해도 그렇지 않았다 A라는 서버는 엄청 큰 용량의 메모리를 가지고 있는데, 그 외의 B,C,D 등등의 클라이언트들은 여유 공간이 별로 없다면, 클라이언트들은 생각할 것이다. 내 용량을 뺏어가지 않고 A서버의 저장공간 즉 디렉터리등을 마치 내것처럼 사용할 수 없을까? 생각이 들 것 이다. 그래서나온 것이 NFS시스템이고 NFS는 네트워크 파일 시스템 (Network File System)의 약자이다.

아무래도 NFS는 다른 서버에 있는 파티션을 마치 내 로컬 영역인것처럼 네트워크를 이용하는 것이기 때문에 보안에 취약하다.

보안이 중요하지 않다면 꽤 유용하지만 보안을 어느정도 신경써야 하는 회사면 사용하는 것을 추천하지 않는다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/99C411505F6AFD150D.png](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/99C411505F6AFD150D.png)

## <수행과정>

### <NFS 서버>

1. yum으로 nfs-utils 패키지 설치

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/47.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/47.jpg)

2. root 아래 virtuall12 디렉토리 생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/48.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/48.jpg)

3. /etc/exports에 들어가 특정디렉토리, IP 권한 부여  

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/49.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/49.jpg)

4. rpcbind 실행

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/50.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/50.jpg)

5.  nfs 실행

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/51.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/51.jpg)

================================================================

### <NFS 클라이언트>

1. usr 아래에 virtuall12 디렉토리 생성

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/52.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/52.jpg)

 

2. mount 명령어에 -t 옵션을 주고 nfs 작성 

그다음 해당 서버 ip,디렉토리 경로 그리고 마운트 될 클라이언트 디렉토리 경로 작성 

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/53.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/53.jpg)

 

3. df -h 명령어로 마운트 상태 확인 

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/56.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/56.jpg)

4. 서버에서 testfile 생성 (서버)

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/54.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/54.jpg)

 

5. 클라이언트에서 ls 명령어로 서버와 같이 파일이 있는지 확인

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/55.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/55.jpg)

<NFS 환경설정 파일 주요 옵션 (/etc/exports)>

① ro: 읽기 전용 (기본값)

② rw: 읽기/쓰기

③ no_root_squash: 클라이언트에서 접근하는 root 인정

④ root_squash: 클라이언트에서 접근하는 root 무시. 서버 상의 nobody로 매핑 (기본값)

⑤ all_squash: root를 포함하여 모든 사용자의 권한을 nobody로 매핑

⑥ no_subtree_check: 하위 디렉터리를 검사하지 못하도록 설정

⑦ secure: 포트 번호가 1024 이하의 요청에만 허가

⑧ async: 데이터 변경을 비동기식으로 처리. 쓰기가능한 디스크 스토리지에 사용하면 유용

⑨ anonuid: 접근하는 사용자 권한을 지정한 uid로 매핑

⑩ anongid: 접근하는 그룹 권한을 지정한 gid로 매핑

================================================================

# Multipath

- 1대의 서버가 복수의 패스를 통해 스토리지 장치에 접속하는 방법

- OS에서 Disk를 여러개의 스위치를 통해 하나의 스위치가 문제가 생겼을 때 다른 스위치를 사용하여 Disk의 고가용성을 위해 Multipath라는것을 설정

- 스토리지 제품에 따라 전용 멀티패스 드라이버가 아닌 리눅스 표준인 DMMF (Device-Mapper Multipath)라고 불리는 멀티패스 드라이버를 사용

- 추가적으로 멀티패스를 사용하면 /dev/sdb, /dev/sdc가 그대로 남고 /dev/mapper/mpathY라는 경로로 추가적으로 디바이스가 생성

## multipath 구성(클라이언트)

```
========================================================================================
device-mapper-multipath RPM 설치

shell> yum install device-mapper-multipath
========================================================================================

multipath 확인

[root@test ~]# multipath -l

Jul 04 13:06:37 | DM multipath kernel driver not loaded

Jul 04 13:06:37 | /etc/multipath.conf does not exist, blacklisting all devices.

Jul 04 13:06:37 | A default multipath.conf file is located at

Jul 04 13:06:37 | /usr/share/doc/device-mapper-multipath-0.4.9/multipath.conf

Jul 04 13:06:37 | You can run /sbin/mpathconf to create or modify /etc/multipath.conf

Jul 04 13:06:37 | DM multipath kernel driver not loaded
========================================================================================

multipath.conf 복사

shell> cp /usr/share/doc/device-mapper-multipath-0.4.9/multipath.conf /etc/

** multipath.conf 는 커스텀마이징 없이 사용가능하다.
========================================================================================

아까와는 다른 메세지를 확인할 수 있다. conf 파일은 인식하지만 multipath driver가 로드되지 않아 발생하는 메세지다.

multipath -l
Jul 04 13:07:06 | DM multipath kernel driver not loaded
Jul 04 13:07:06 | DM multipath kernel driver not loaded
========================================================================================

mutipath 서비스 시작

shell> systemctl --now enable multipathd or systemctl start multipathd
========================================================================================

multipath 확인

multipath -l
 - driver가 로드되지 않았다는 메세지는 사라지고 아무런 값도 출력되지 않는다.
========================================================================================

vi /etc/multipath.conf
 - 아래와 같이 수정해보자.

## Use user friendly names, instead of using WWIDs as names.
defaults {
        user_friendly_names yes
        find_multipaths no  (Default value는 yes이다. no로 변경하도록한다.)
}

(multipath.conf 파일 가장 하단에 추가. 해당 부분은 multipath로 지정하지 않을 device를 선택한다. local disk이기 때문에 제외하도록 한다.)
blacklist {
devnode "/dev/sd*"
}
========================================================================================

systemctl restart multipathd

이전과는 다르게 multipath가 잡혀있는 것을 확인할 수 있다.

multipath -l
mpathc (36000c2979ec78550dd86289304fc7642) dm-4 VMware  ,Virtual disk    
size=20G features='0' hwhandler='0' wp=rw
`-+- policy='service-time 0' prio=0 status=active
  `- 3:0:1:0 sdc 8:32 active undef unknown
mpathd (36000c29540048b9248c80212f2dd44d9) dm-5 VMware  ,Virtual disk    
size=20G features='0' hwhandler='0' wp=rw
`-+- policy='service-time 0' prio=0 status=active
  `- 3:0:0:0 sdb 8:16 active undef unknown
========================================================================================

해당 절차는 서버가 재기동 돼도 해당 disk에 ownership이 자동 부여되도록 하기위한 명령이다. 굵게 표시된 명령을 수행하면 아래와 같은 결과 값을 얻을 수 있으며 이 부분을 rule에 추가하면 서버가 재기동돼도 해당 disk에 자동적으로 ownership이 부여된다.
 
  for i in `ls /dev/mapper`
> do
> UUID=`udevadm info --query=all --name=/dev/mapper/$i|grep -i dm_uuid|awk -F"=" '{print $2}'`
> echo "KERNEL==\"dm-*\",ENV{DM_UUID}==\"$UUID\",OWNER=\"grid\",GROUP=\"asmadmin\",MODE=\"0660\""|grep mpath
> done
KERNEL=="dm-*",ENV{DM_UUID}=="mpath-36000c29540048b9248c80212f2dd44d9",OWNER="grid",GROUP="asmadmin",MODE="0660"
KERNEL=="dm-*",ENV{DM_UUID}=="mpath-36000c2979ec78550dd86289304fc7642",OWNER="grid",GROUP="asmadmin",MODE="0660"
========================================================================================

multipath의 식별을 위하여 alias를 지정해준다.

 vi /etc/multipath/bindings
# Multipath bindings, Version : 1.0
# NOTE: this file is automatically maintained by the multipath program.
# You should not need to edit this file in normal circumstances.
#
# Format:
# alias wwid
#
DATA01 36000c29540048b9248c80212f2dd44d9
DATA02 36000c2979ec78550dd86289304fc7642
========================================================================================

재가동

init 6
========================================================================================

multipath가 정상적으로 적용된 것을 볼 수 있다.

multipath -l
DATA01 (36000c29540048b9248c80212f2dd44d9) dm-2 VMware  ,Virtual disk    
size=20G features='0' hwhandler='0' wp=rw
`-+- policy='service-time 0' prio=0 status=active
  `- 3:0:0:0 sdb 8:16 active undef unknown
DATA02 (36000c2979ec78550dd86289304fc7642) dm-3 VMware  ,Virtual disk    
size=20G features='0' hwhandler='0' wp=rw
`-+- policy='service-time 0' prio=0 status=active
  `- 3:0:1:0 sdc 8:32 active undef unknown
========================================================================================

disk ownership 역시 자동적으로 부여된 것을 확인할 수 있다.

ls -lrt /dev/dm*
brw-rw----. 1 root disk     253, 0 Jul  4 03:59 /dev/dm-0
brw-rw----. 1 root disk     253, 1 Jul  4 03:59 /dev/dm-1
brw-rw----. 1 grid asmadmin 253, 2 Jul  4 03:59 /dev/dm-2
brw-rw----. 1 grid asmadmin 253, 3 Jul  4 03:59 /dev/dm-3
brw-rw----. 1 root disk     253, 5 Jul  4 03:59 /dev/dm-5
brw-rw----. 1 root disk     253, 4 Jul  4 03:59 /dev/dm-4
  
```

================================================================

## REPO 구성 (CD-ROM, YUM)

## **Local YUM Repository 구성하는 이유?**

**Local YUM Repository란?**   말 그대로 **Local(해당 지역) 내에서만 돌아가는 YUM 저장소**다. YUM 저장소 안에 구성된 파일은 RPM이라는 확장자를 가지고 있는 패키지다.

흔히들 이것을 **Local Repo(로컬 레포)라고 부른다.**

필드에서 누군가가 **"레포 잡아주세요"라고 하면 대부분이 Local Repo를 잡아주는 것**.

일반적으로 운영중인 서버는 **외부 통신이 되지 않는 폐쇄망에서 운영되기 때문에 Local Repository를 구성한**다.

> 왜 서버를 폐쇄망에 구축하는 것일까? 하루에 수백번 아니 수천번씩 해커들이 서버에 진입하려고 시도를 한다. 그런데 외부 통신을 허용했다가 악성을 가진 경로 혹은 파일에 접근하면 그 서버는 뚫리게된다.결국엔 보안때문이다.

**YUM(Yellowdog Updater Modified)이란**? 레드햇 계열에서 사용되는 명령어로 **RPM 패키지를 관리하는 도구이다**.

**RPM(Redhat Package Manager)이란?**  RPM은 **레드햇 계열에서 사용되는 패키지**로 Windows의 Setup 파일과 비슷하다고 생각하면 좋을 것 같다.

```
# yum clean all            (YUM Repository 관련 정보를 전부 지움.)

# yum repolist             ("/etc/yum.repos.d/" 경로에 있는 "~~~.repo"의 확장자의 파일을 읽어서 Repo에 저장)

# yum install               (패키지 설치)
```

## **Local YUM Repository 구성 - LAB**

YUM Repository를 설정하는 경로는 "/etc/yum.repos.d"이다. 해당 경로에 "~~.repo"와 같이 repo라는 확장자를 가진 파일을 만들어준다.

CentOS나 RHEL을 설치하면 기본으로 Repo가 잡혀있는 것들이 있다. **RHEL의 경우는 Subscription-manager 명령을 통해 해당 Repo를 enable 시켜줘야 Repo 파일 안에 내용이 채워진다**.

하지만, **CentOS는 오픈소스이기 때문에 기존 파일에 Repository에 대한 주소가 잡혀져있다**. 우리는 지금 **인터넷이 되지 않는 환경이니까 당연히 오류가 뜰것이다.**

"Could not resolve host [http://mirrorlist.centos.org~~~](http://mirrorlist.centos.org%7E%7E%7E/)" 라는 오류가 뜬다. 현재 mirrorlist.centos.org라는 호스트를 찾아낼 수 없다는 말이다.  이 에러가 뜨는 것이 정상이다.

왜냐하면 DNS가 잡혀져있지 않기 때문에 해당 주소에서 Repo를 가져오려면 외부와 통신되는 DNS가 필요하다.

이 단계에서는 외부 통신을 사용하지 않을 것이기 때문에 다음으로 CentOS-7이라는 이름을 가진 Repo 파일을 전부 삭제해주는 작업을 한다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901.png](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901.png)

정상적으로 삭제됐는지 확인.

주의할 점이 있다. **실무에서는 너무 파일이 많지 않는 이상 "-f" 옵션을 사용하지 않기를 바란다**.  "-f" 옵션은 지금 하고 있는 행동을 강제로 진행하겠다는 말이고 그러므로 **"rm -rf" 명령은 상당히 위험한 명령이다**.

```
# ll /etc/yum.repos.d/                              (Repo 파일 확인)

# rm -rf /etc/yum.repos.d/CentOS-*            (CentOS로 시작하는 파일들 모두 삭제)
```

Repository를 잡기 위해서 iso 파일을 서버가 인식하게 해준다.

방법은 CD, USB, iso 파일을 서버에 SCP로 전송 등의 방법이 있습니다. VM 기준으로는 그냥 CD를 삽입해주는 것이 가장 간편하고 빠른 방법.

iso 파일을 삽입했으면 임시 디렉토리에 mount 시켜서 repo 디렉토리에 내용을 복사하는 과정이 필요하기 때문에 2개의 디렉토리를 만들어준다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901%202.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901%202.jpg)

```
# mkdir /root/tmp            (마운트 할 임시 디렉토리 생성)

# mkdir /root/repo           (Repo의 안에 구성될 패키지들이 들어갈 파일들)
```

이제 임시 디렉토리에 마운트하는 작업을 진행합니다.

```
# mount -o loop /dev/sr0  /root/tmp

# ll /root/tmp
```

정상적으로 마운트 되었다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/_(1).png](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/_(1).png)

## iso 파일을 가져오라는 말만 해서 가져오긴 했는데 왜 가져 오는가? iso 파일 안에는 Packages라는 디렉토리가 있다. 이 안에는 서버를 운영하는데 필요한 가장 기본적인 RPM들이 모여있다. 그래서 iso 파일을 가져오는 것.

이제 파일들을 실제로 Repository 구성할 때 땡겨올 경로에 복사를 해줍니다.

```
# cp -rfvp /root/tmp  /root/repo 시간 꽤 걸림.

# ll /root/repo
```

왜 "-v" 옵션을 쓸까? v는 verbose의 약자이다. 현재 진행되고 있는 작업을 눈으로 볼 수 있고 현재 작업에서는 내 파일들이 정상적으로 잘 복사되고 있는지를 확인하기 위해 사용한다.

정상적으로 복사 된 것을 볼 수 있다. 이제 임시 디렉토리에 마운트 걸어놓은 것을 마운트 해제하고 VM에 삽입한 CD도 빼준다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/_(2).png](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/_(2).png)

```
# umount /root/tmp

# ll /root/tmp
```

정상적으로 마운트가 해제 되었다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/_(3).png](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901/_(3).png)

이제 Repo 파일을 작성한다.

```
# vi /etc/yum.repos.d/local.repo

[local]                                                     
name=CentOS-7.9-Basic
baseurl=file:///root/repo
enabled=1
gpgcheck=0
```

위와 같이 작성하고 repo를 불러오는 작업을 합니다.

```
# yum repolist
```

<Repo 파일 내용 형식>

[repo id]

name= repo name

baseurl= package와 repodata가 있는 위치

gpgcheck: **0(GPG 서명 사용 안함)** , 1(GPG 서명 사용함

enabled: **1(Repo 활성화)** , 0(Repo 비활성화)

/root/repo/tmp/repodata에 파일들이 생성 되었다.

![RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901%203.jpg](RHEL%20OS%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%20%E1%84%80%E1%85%AE%E1%84%89%E1%85%A5%E1%86%BC%2083f724c0f17345cd855dff19a8a28901%203.jpg)

================================================================

사용중인 포트 확인 명령어

# netstat -tulpn